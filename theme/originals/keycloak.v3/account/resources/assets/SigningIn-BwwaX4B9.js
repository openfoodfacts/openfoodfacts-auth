import{jsx as e,jsxs as s,Fragment as h}from"react/jsx-runtime";import{useState as D}from"react";import{u as C,_ as b,a as N,S as I,P as L,t as k,T as y,B as v,D as T,v as $,M as S,E as A,w as E,x as M}from"./main-C-7qXKOl.js";import{E as P,D as O}from"./EmptyRow-BhlXyaxs.js";import{f as R}from"./formatDate-Q2TxKE95.js";import{T as U}from"./Trans-8-vER14A.js";import{I as W}from"./info-alt-icon-B2xMYy9D.js";import{S as _,a as w}from"./SplitItem-Xweq0kDF.js";import{D as j,a as z,b as B}from"./DataListItemRow-ChqOA6ly.js";import{D as F,a as f}from"./DataListItemCells-DZ_JTsDa.js";import"react-dom";const q=({title:t,onClick:r,testid:d})=>{const[l,g]=D(!1);return s(h,{children:[e(T,{popperProps:{position:"right"},onOpenChange:p=>g(p),toggle:p=>e(S,{className:"pf-v5-u-display-none-on-lg",ref:p,variant:"plain",onClick:()=>g(!l),isExpanded:l,children:e(A,{})}),isOpen:l,children:e($,{onClick:r,children:t},"1")}),e(v,{variant:"link",onClick:r,className:"pf-v5-u-display-none pf-v5-u-display-inline-flex-on-lg","data-testid":d,children:t})]})},ae=()=>{const{t}=C(),r=b(),{login:d}=r.keycloak,[l,g]=D();N(a=>M({signal:a,context:r}),g,[]);const p=a=>{const i=a.credential,u=[e(f,{"data-testrole":"label",className:"pf-v5-u-max-width",style:{"--pf-v5-u-max-width--MaxWidth":"300px"},children:t(i.userLabel)||t(i.type)},"title")];return i.createdDate&&u.push(e(f,{"data-testrole":"created-at",children:s(U,{i18nKey:"credentialCreatedAt",children:[e("strong",{className:"pf-v5-u-mr-md"}),{date:R(new Date(i.createdDate))}]})},"created"+i.id)),(a.infoMessage||a.warningMessageTitle&&a.warningMessageDescription)&&u.push(e(f,{"data-testrole":"warning-message",children:s(h,{children:[a.infoMessage&&s("p",{children:[e(W,{})," ",t(a.infoMessage.key,a.infoMessage.parameters?.reduce((o,c,m)=>({...o,[m]:c}),{}))]}),a.warningMessageTitle&&a.warningMessageDescription&&s(h,{children:[s("p",{children:[e(E,{})," ",t(a.warningMessageTitle.key,a.warningMessageTitle.parameters?.reduce((o,c,m)=>({...o,[m]:c}),{}))]}),e("p",{children:t(a.warningMessageDescription.key,a.warningMessageDescription.parameters?.reduce((o,c,m)=>({...o,[m]:c}),{}))})]})]})},"warning-message"+i.id)),u};if(!l)return e(I,{});const x=[...new Set(l.map(a=>a.category))];return e(L,{title:t("signingIn"),description:t("signingInDescription"),children:x.map(a=>s(k,{variant:"light",className:"pf-v5-u-px-0",children:[e(y,{headingLevel:"h2",size:"xl",id:`${a}-categ-title`,children:t(a)}),l.filter(i=>i.category==a).map(i=>s(h,{children:[s(_,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",children:[s(w,{children:[e(y,{headingLevel:"h3",size:"md",className:"pf-v5-u-mb-md","data-testid":`${i.type}/help`,children:e("span",{className:"cred-title pf-v5-u-display-block","data-testid":`${i.type}/title`,children:t(i.displayName)})}),e("span",{"data-testid":`${i.type}/help-text`,children:t(i.helptext)})]}),i.createAction&&e(w,{isFilled:!0,children:e("div",{className:"pf-v5-u-float-right",children:e(q,{onClick:()=>d({action:i.createAction}),title:t("setUpNew",{name:t(`${i.type}-display-name`)}),testid:`${i.type}/create`})})})]}),s(j,{"aria-label":"credential list",className:"pf-v5-u-mb-xl","data-testid":`${i.type}/credential-list`,children:[i.userCredentialMetadatas.length===0&&e(P,{message:t("notSetUp",{name:t(i.displayName)}),"data-testid":`${i.type}/not-set-up`}),i.userCredentialMetadatas.map(n=>e(z,{children:e(B,{id:`cred-${n.credential.id}`,children:e(F,{className:"pf-v5-u-py-0",dataListCells:[...p(n),s(O,{id:`action-${n.credential.id}`,"aria-label":t("updateCredAriaLabel"),"aria-labelledby":`cred-${n.credential.id}`,children:[i.removeable&&e(v,{variant:"danger","data-testrole":"remove",onClick:()=>{d({action:"delete_credential:"+n.credential.id})},children:t("delete")}),i.updateAction&&e(v,{variant:"secondary",onClick:()=>{d({action:i.updateAction})},"data-testrole":"update",children:t("update")})]},"action")]})})},n.credential.id))]})]}))]},a))})};export{ae as SigningIn,ae as default};
//# sourceMappingURL=SigningIn-BwwaX4B9.js.map
