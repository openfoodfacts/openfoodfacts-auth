import{createElement as T,isValidElement as w,cloneElement as R,Children as Q,Fragment as Y,useContext as Z}from"react";import{aO as G,aP as W,aQ as M,aR as K,aS as S,aT as D,aU as I,aV as tt}from"./main-C-7qXKOl.js";var _,B;function et(){return B||(B=1,_={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),_}var nt=et();const rt=G(nt);var st=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function H(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=t.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(e.name=n[1],(rt[n[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var r=t.indexOf("-->");return{type:"comment",comment:r!==-1?t.slice(4,r):""}}for(var o=new RegExp(st),a=null;(a=o.exec(t))!==null;)if(a[0].trim())if(a[1]){var l=a[1].trim(),u=[l,""];l.indexOf("=")>-1&&(u=l.split("=")),e.attrs[u[0]]=u[1],o.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var at=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,ot=/^\s*$/,it=Object.create(null);function q(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(n){var r=[];for(var o in n)r.push(o+'="'+n[o]+'"');return r.length?" "+r.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(q,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var ct={parse:function(t,e){e||(e={}),e.components||(e.components=it);var n,r=[],o=[],a=-1,l=!1;if(t.indexOf("<")!==0){var u=t.indexOf("<");r.push({type:"text",content:u===-1?t:t.substring(0,u)})}return t.replace(at,function(d,b){if(l){if(d!=="</"+n.name+">")return;l=!1}var g,m=d.charAt(1)!=="/",E=d.startsWith("<!--"),h=b+d.length,i=t.charAt(h);if(E){var C=H(d);return a<0?(r.push(C),r):((g=o[a]).children.push(C),r)}if(m&&(a++,(n=H(d)).type==="tag"&&e.components[n.name]&&(n.type="component",l=!0),n.voidElement||l||!i||i==="<"||n.children.push({type:"text",content:t.slice(h,t.indexOf("<",h))}),a===0&&r.push(n),(g=o[a-1])&&g.children.push(n),o[a]=n),(!m||n.voidElement)&&(a>-1&&(n.voidElement||n.name===d.slice(2,-1))&&(a--,n=a===-1?r:o[a]),!l&&i!=="<"&&i)){g=a===-1?r:o[a].children;var c=t.indexOf("<",h),f=t.slice(h,c===-1?void 0:c);ot.test(f)&&(f=" "),(c>-1&&a+g.length>=0||f!==" ")&&g.push({type:"text",content:f})}}),r},stringify:function(t){return t.reduce(function(e,n){return e+q("",n)},"")}};const P=(t,e)=>{if(!t)return!1;const n=t.props?.children??t.children;return e?n.length>0:!!n},F=t=>{if(!t)return[];const e=t.props?.children??t.children;return t.props?.i18nIsDynamicList?V(e):e},lt=t=>Array.isArray(t)&&t.every(w),V=t=>Array.isArray(t)?t:[t],ut=(t,e)=>{const n={...e};return n.props=Object.assign(t.props,e.props),n},z=(t,e,n,r)=>{if(!t)return"";let o="";const a=V(t),l=e?.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((u,d)=>{if(S(u)){o+=`${u}`;return}if(w(u)){const{props:b,type:g}=u,m=Object.keys(b).length,E=l.indexOf(g)>-1,h=b.children;if(!h&&E&&!m){o+=`<${g}/>`;return}if(!h&&(!E||m)||b.i18nIsDynamicList){o+=`<${d}></${d}>`;return}if(E&&m===1&&S(h)){o+=`<${g}>${h}</${g}>`;return}const i=z(h,e,n,r);o+=`<${d}>${i}</${d}>`;return}if(u===null){D(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(I(u)){const{format:b,...g}=u,m=Object.keys(g);if(m.length===1){const E=b?`${m[0]}, ${b}`:m[0];o+=`{{${E}}}`;return}D(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:u});return}D(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:u})}),o},pt=(t,e,n,r,o,a)=>{if(e==="")return[];const l=r.transKeepBasicHtmlNodesFor||[],u=e&&new RegExp(l.map(c=>`<${c}`).join("|")).test(e);if(!t&&!u&&!a)return[e];const d={},b=c=>{V(c).forEach(p=>{S(p)||(P(p)?b(F(p)):I(p)&&!w(p)&&Object.assign(d,p))})};b(t);const g=ct.parse(`<0>${e}</0>`),m={...d,...o},E=(c,f,p)=>{const x=F(c),O=i(x,f.children,p);return lt(x)&&O.length===0||c.props?.i18nIsDynamicList?x:O},h=(c,f,p,x,O)=>{c.dummy?(c.children=f,p.push(R(c,{key:x},O?void 0:f))):p.push(...Q.map([c],y=>{const s={...y.props};return delete s.i18nIsDynamicList,T(y.type,{...s,key:x,ref:y.ref},O?null:f)}))},i=(c,f,p)=>{const x=V(c);return V(f).reduce((y,s,N)=>{const k=s.children?.[0]?.content&&n.services.interpolator.interpolate(s.children[0].content,m,n.language);if(s.type==="tag"){let $=x[parseInt(s.name,10)];p.length===1&&!$&&($=p[0][s.name]),$||($={});const v=Object.keys(s.attrs).length!==0?ut({props:s.attrs},$):$,j=w(v),L=j&&P(s,!0)&&!s.voidElement,U=u&&I(v)&&v.dummy&&!j,X=I(t)&&Object.hasOwnProperty.call(t,s.name);if(S(v)){const A=n.services.interpolator.interpolate(v,m,n.language);y.push(A)}else if(P(v)||L){const A=E(v,s,p);h(v,A,y,N)}else if(U){const A=i(x,s.children,p);h(v,A,y,N)}else if(Number.isNaN(parseFloat(s.name)))if(X){const A=E(v,s,p);h(v,A,y,N,s.voidElement)}else if(r.transSupportBasicHtmlNodes&&l.indexOf(s.name)>-1)if(s.voidElement)y.push(T(s.name,{key:`${s.name}-${N}`}));else{const A=i(x,s.children,p);y.push(T(s.name,{key:`${s.name}-${N}`},A))}else if(s.voidElement)y.push(`<${s.name} />`);else{const A=i(x,s.children,p);y.push(`<${s.name}>${A}</${s.name}>`)}else if(I(v)&&!j){const A=s.children[0]?k:null;A&&y.push(A)}else h(v,k,y,N,s.children.length!==1||!k)}else if(s.type==="text"){const $=r.transWrapTextNodes,v=a?r.unescape(n.services.interpolator.interpolate(s.content,m,n.language)):n.services.interpolator.interpolate(s.content,m,n.language);$?y.push(T($,{key:`${s.name}-${N}`},v)):y.push(v)}return y},[])},C=i([{dummy:!0,children:t||[]}],g,V(t||[]));return F(C[0])},J=(t,e,n)=>{const r=t.key||e,o=R(t,{key:r});if(!o.props||!o.props.children||n.indexOf(`${e}/>`)<0&&n.indexOf(`${e} />`)<0)return o;function a(){return T(Y,null,o)}return T(a,{key:r})},ft=(t,e)=>t.map((n,r)=>J(n,r,e)),mt=(t,e)=>{const n={};return Object.keys(t).forEach(r=>{Object.assign(n,{[r]:J(t[r],r,e)})}),n},ht=(t,e,n,r)=>t?Array.isArray(t)?ft(t,e):I(t)?mt(t,e):(W(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null;function yt({children:t,count:e,parent:n,i18nKey:r,context:o,tOptions:a={},values:l,defaults:u,components:d,ns:b,i18n:g,t:m,shouldUnescape:E,...h}){const i=g||M();if(!i)return W(i,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),t;const C=m||i.t.bind(i)||(L=>L),c={...K(),...i.options?.react};let f=b||C.ns||i.options?.defaultNS;f=S(f)?[f]:f||["translation"];const p=z(t,c,i,r),x=u||p||c.transEmptyNodeValue||r,{hashTransKey:O}=c,y=r||(O?O(p||x):p||x);i.options?.interpolation?.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...i.options.interpolation.defaultVariables}:{...i.options.interpolation.defaultVariables});const s=l||e!==void 0&&!i.options?.interpolation?.alwaysFormat||!t?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},N={...a,context:o||a.context,count:e,...l,...s,defaultValue:x,ns:f},k=y?C(y,N):x,$=ht(d,k,i,r),v=pt($||t,k,i,c,N,E),j=n??c.defaultTransParent;return j?T(j,h,v):v}function vt({children:t,count:e,parent:n,i18nKey:r,context:o,tOptions:a={},values:l,defaults:u,components:d,ns:b,i18n:g,t:m,shouldUnescape:E,...h}){const{i18n:i,defaultNS:C}=Z(tt)||{},c=g||i||M(),f=m||c?.t.bind(c);return yt({children:t,count:e,parent:n,i18nKey:r,context:o,tOptions:a,values:l,defaults:u,components:d,ns:b||f?.ns||C||c?.options?.defaultNS,i18n:c,t:m,shouldUnescape:E,...h})}export{vt as T};
//# sourceMappingURL=Trans-8-vER14A.js.map
